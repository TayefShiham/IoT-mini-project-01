#!/bin/sh

set -e

RIOT_PP_SUCCESSOR_MAX=$1

echo "/* DO NOT edit this file, your changes will be overwritten and won't take any effect! */"
cat << EOF
#ifndef RIOT_PP_SUCCESSOR_H
#define RIOT_PP_SUCCESSOR_H
#ifdef __cplusplus
extern "C" {
#endif

#define RIOT_PP_SUCCESSOR_MAX ${RIOT_PP_SUCCESSOR_MAX}

EOF

gen_successors() {
  for n in $(seq 0 "${RIOT_PP_SUCCESSOR_MAX}")
  do
    echo "#define RIOT_PP_SUCCESSOR_${n} $(( n + 1 ))"
  done
}

gen_successors

cat << EOF

#define RIOT_PP_SUCCESSOR(n) RIOT_PP_SUCCESSOR_ ## n

#ifdef __cplusplus
}
#endif
#endif
EOF
